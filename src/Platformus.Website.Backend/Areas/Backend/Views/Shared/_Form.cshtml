@* Copyright © 2020 Dmitry Sikorsky. All rights reserved. *@
@* Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information. *@
@model Platformus.Website.Backend.ViewModels.Shared.FormViewModel
@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer Localizer
<tree-node>
  <tree-node-header>
    <tree-node-title>
      @Model.Name
    </tree-node-title>
    <tree-node-buttons>
      @if (this.Model.ProduceCompletedForms)
      {
        <neutral-button is-minor="true" href="/backend/completedforms?form.id=@Model.Id">@Localizer["Completed forms"]</neutral-button>
      }
      <positive-button is-minor="true" href="/backend/forms/edit/@Model.Id">@Localizer["Edit"]</positive-button>
      <delete-button href="/backend/forms/delete/@Model.Id"></delete-button>
    </tree-node-buttons>
  </tree-node-header>
  <tree-node-content>
    @foreach (var field in this.Model.Fields)
    {
      <partial name="_Field" for="@field" />
    }
    <tree-node-buttons>
      <positive-button is-minor="true" href="/backend/fields/create?form.id=@Model.Id">@Localizer["Create field"]</positive-button>
    </tree-node-buttons>
  </tree-node-content>
</tree-node>