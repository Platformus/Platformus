@* Copyright © 2020 Dmitry Sikorsky. All rights reserved. *@
@* Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information. *@
@model Platformus.Website.Backend.ViewModels.Shared.FormViewModel
@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer Localizer
<div class="tree__node">
  <div class="tree__node-header">
    <div class="tree__buttons tree__buttons--node-header buttons">
      @if (this.Model.ProduceCompletedForms)
      {
        <a class="buttons__button buttons__button--minor button button--neutral button--minor" href="/backend/completedforms?form.id=@Model.Id">@Localizer["Completed forms"]</a>
      }
      <a class="buttons__button buttons__button--minor button button--positive button--minor" href="/backend/forms/edit/@Model.Id">@Localizer["Edit"]</a>
      <a class="buttons__button buttons__button--minor button button--negative button--minor button--delete" href="#" onclick="return platformus.forms.deleteForm.show('/backend/forms/delete/@Model.Id');"></a>
    </div>
    @Model.Name
  </div>
  <div class="tree__node-content">
    @foreach (var field in this.Model.Fields)
    {
      @Html.Partial("_Field", field)
    }
    <div class="tree__buttons buttons">
      <a class="buttons__button buttons__button--minor button button--positive button--minor" href="/backend/fields/create?form.id=@Model.Id">@Localizer["Create field"]</a>
    </div>
  </div>
</div>